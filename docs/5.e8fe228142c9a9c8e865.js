(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"A4/C":function(e,t,n){"use strict";n.r(t),n.d(t,"HomeModule",function(){return A});var r=n("ofXK"),a=n("tyNb"),o=n("HDdC"),i=n("fXoL"),c=n("2Vo4"),s=n("Kj3r"),l=n("/uUt"),p=n("eIep"),u=n("lJxs"),m=n("tk/3");let g=(()=>{class e{constructor(e){this.http=e,this.baseUrl="https://restcountries.eu/rest/v2",this.fields="name;flag;capital;region;subregion;nativeName;population;topLevelDomain;currencies;languges;borders",this.searchSubject$=new c.a({countryName:"all",region:"Americas"})}getDefaultCountry(){return{name:"",flag:"",capital:"",region:"",subregion:"",nativeName:"",population:0,topLevelDomain:[],currencies:[],languages:[],borders:[]}}addSearch(e){this.searchSubject$.next(e)}getCountries(){return this.searchSubject$.asObservable().pipe(Object(s.a)(500),Object(l.a)(),Object(p.a)(e=>"all"===e.countryName||""===e.countryName?this.getCountriesByRegion(e.region):this.getCountriesByNameAndRegion(e.countryName,e.region)))}getCountriesByRegion(e){return this.http.get(`${this.baseUrl}/region/${e}?fields=${this.fields}`).pipe(Object(u.a)(e=>e.map(e=>this.mapApiResponseToCountry(e))))}getCountriesByNameAndRegion(e,t){return this.http.get(`${this.baseUrl}/name/${e}?fields=${this.fields}`).pipe(Object(u.a)(e=>e.filter(e=>e.region===t).map(e=>this.mapApiResponseToCountry(e))))}mapApiResponseToCountry(e){var t,n;return{name:e.name,flag:e.flag,capital:e.capital,region:e.region,subregion:e.subregion,nativeName:e.nativeName,population:e.population,topLevelDomain:e.topLevelDomain,currencies:null===(t=e.currencies)||void 0===t?void 0:t.map(e=>e.name),languages:null===(n=e.languages)||void 0===n?void 0:n.map(e=>e.name),borders:e.borders}}}return e.\u0275fac=function(t){return new(t||e)(i.Wb(m.a))},e.\u0275prov=i.Jb({token:e,factory:e.\u0275fac}),e})();var b=n("3Pt+"),d=function(e){return e[e.Africa=0]="Africa",e[e.Americas=1]="Americas",e[e.Asia=2]="Asia",e[e.Europe=3]="Europe",e[e.Oceania=4]="Oceania",e}({}),f=n("kmnG"),h=n("NFeN"),C=n("qFsG"),v=n("d3UM"),y=n("FKr1");function O(e,t){if(1&e&&(i.Sb(0,"mat-option",7),i.qc(1),i.cc(2,"titlecase"),i.Rb()),2&e){const e=t.$implicit;i.gc("value",e),i.Cb(1),i.sc(" ",i.dc(2,2,e)," ")}}let w=(()=>{class e{constructor(e){this.countryService=e,this.searchField=new b.b,this.filter=new b.b,this.regions=[]}ngOnInit(){this.setRegions()}setRegions(){for(const e in d)isNaN(Number(e))&&this.regions.push(e)}search(){this.countryService.addSearch({countryName:this.searchField.value||"",region:this.filter.value||"Europe"})}regionChanged(e){this.countryService.addSearch({countryName:this.searchField.value||"",region:e||"Europe"})}}return e.\u0275fac=function(t){return new(t||e)(i.Nb(g))},e.\u0275cmp=i.Hb({type:e,selectors:[["app-search"]],decls:12,vars:3,consts:[[1,"flex-container"],[1,"search","mat-elevation-z2"],["matPrefix",""],["matInput","","type","search",3,"formControl","input"],[1,"filter","mat-elevation-z2"],["placeholder","Filtered by all regions",3,"formControl","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(i.Sb(0,"div",0),i.Sb(1,"mat-form-field",1),i.Sb(2,"mat-label"),i.qc(3,"Search for a country..."),i.Rb(),i.Sb(4,"mat-icon",2),i.qc(5,"search"),i.Rb(),i.Sb(6,"input",3),i.Zb("input",function(){return t.search()}),i.Rb(),i.Rb(),i.Sb(7,"mat-form-field",4),i.Sb(8,"mat-label"),i.qc(9,"Filter by Region"),i.Rb(),i.Sb(10,"mat-select",5),i.Zb("valueChange",function(e){return t.regionChanged(e)}),i.pc(11,O,3,4,"mat-option",6),i.Rb(),i.Rb(),i.Rb()),2&e&&(i.Cb(6),i.gc("formControl",t.searchField),i.Cb(4),i.gc("formControl",t.filter),i.Cb(1),i.gc("ngForOf",t.regions))},directives:[f.b,f.e,h.a,f.f,C.a,b.a,b.f,b.c,v.a,r.k,y.e],pipes:[r.r],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:5rem}.flex-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{font-size:var(--font-size-text-100);background-color:var(--color-elements);color:var(--color-text);height:6rem;display:flex;align-items:center;padding:var(--font-size-text-100) calc(2 * var(--font-size-text-100));border-radius:.5rem;width:min(100%,48rem)}.flex-container[_ngcontent-%COMP%]   .mat-form-field.filter[_ngcontent-%COMP%]{width:min(100%,24.8rem)}.flex-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--color-input)}  .mat-form-field-appearance-legacy .mat-form-field-wrapper{padding-bottom:0;width:100%}  .mat-form-field-appearance-legacy .mat-form-field-label{color:var(--color-input-label)}  .mat-form-field-prefix{align-self:center;margin-right:3rem}  .mat-form-field-infix{border-top:none;padding:0}  .mat-form-field-underline{display:none}  .mat-select-panel .mat-option{background-color:var(--color-elements);color:var(--color-text)}"]}),e})();var S=n("Wp6s");let P=(()=>{class e{constructor(e){this.countryService=e,this.country=this.countryService.getDefaultCountry()}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(i.Nb(g))},e.\u0275cmp=i.Hb({type:e,selectors:[["app-country-card"]],inputs:{country:"country"},decls:18,vars:8,consts:[["mat-card-image","",1,"mat-elevation-z2",3,"src","alt"],[1,"semi-bold"]],template:function(e,t){1&e&&(i.Sb(0,"mat-card"),i.Ob(1,"img",0),i.Sb(2,"mat-card-content"),i.Sb(3,"mat-card-title"),i.qc(4),i.Rb(),i.Sb(5,"p"),i.Sb(6,"span",1),i.qc(7,"Population: "),i.Rb(),i.qc(8),i.cc(9,"number"),i.Rb(),i.Sb(10,"p"),i.Sb(11,"span",1),i.qc(12,"Region: "),i.Rb(),i.qc(13),i.Rb(),i.Sb(14,"p"),i.Sb(15,"span",1),i.qc(16,"Capital: "),i.Rb(),i.qc(17),i.Rb(),i.Rb(),i.Rb()),2&e&&(i.Cb(1),i.hc("alt","",t.country.name," flag"),i.gc("src",t.country.flag,i.mc),i.Cb(3),i.rc(t.country.name),i.Cb(4),i.rc(i.dc(9,6,t.country.population)),i.Cb(5),i.rc(t.country.region),i.Cb(4),i.rc(t.country.capital))},directives:[S.a,S.c,S.b,S.e],pipes:[r.e],styles:[".mat-card[_ngcontent-%COMP%]{height:100%}.mat-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-height:47%}.mat-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]{padding:1.6rem}.mat-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{font-size:var(--font-size-title);margin-bottom:var(--font-size-title);font-weight:var(--font-weight-bold)}.mat-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:var(--font-size-text-100)}"]}),e})();const M=function(){return["/detail"]};function R(e,t){if(1&e&&(i.Qb(0),i.Ob(1,"app-country-card",3),i.Pb()),2&e){const e=t.$implicit;i.Cb(1),i.gc("routerLink",i.ic(3,M))("state",e)("country",e)}}function _(e,t){if(1&e&&(i.Sb(0,"div",1),i.pc(1,R,2,4,"ng-container",2),i.Rb()),2&e){const e=i.bc();i.Cb(1),i.gc("ngForOf",e.countries)}}function x(e,t){}let N=(()=>{class e{constructor(){this.countries=[]}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Hb({type:e,selectors:[["app-countries"]],inputs:{countries:"countries"},decls:2,vars:1,consts:[["class","wrapper",4,"ngIf"],[1,"wrapper"],[4,"ngFor","ngForOf"],[3,"routerLink","state","country"]],template:function(e,t){1&e&&(i.pc(0,_,2,1,"div",0),i.pc(1,x,0,0,"ng-template")),2&e&&i.gc("ngIf",t.countries)},directives:[r.l,r.k,P,a.b],styles:[".wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:3rem}@media screen and (min-width:600px){.wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media screen and (min-width:800px){.wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media screen and (min-width:1200px){.wrapper[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}"]}),e})();const F=[{path:"",component:(()=>{class e{constructor(e){this.countryService=e,this.countries$=new o.a}ngOnInit(){this.getCountries()}getCountries(){this.countries$=this.countryService.getCountries()}}return e.\u0275fac=function(t){return new(t||e)(i.Nb(g))},e.\u0275cmp=i.Hb({type:e,selectors:[["app-home"]],decls:5,vars:3,consts:[[1,"home-wrapper","bg-theme"],[1,"search"],[3,"countries"]],template:function(e,t){1&e&&(i.Sb(0,"div",0),i.Sb(1,"div",1),i.Ob(2,"app-search"),i.Rb(),i.Ob(3,"app-countries",2),i.cc(4,"async"),i.Rb()),2&e&&(i.Cb(3),i.gc("countries",i.dc(4,1,t.countries$)))},directives:[w,N],pipes:[r.b],styles:[".home-wrapper[_ngcontent-%COMP%]{padding:3rem 5%}.home-wrapper[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{margin-bottom:3rem}@media screen and (min-width:768px){.home-wrapper[_ngcontent-%COMP%]{padding:4.8rem 5%}.home-wrapper[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{margin-bottom:5rem}}"]}),e})()}];let $=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.Lb({type:e}),e.\u0275inj=i.Kb({imports:[[a.c.forChild(F)],a.c]}),e})();var q=n("QqMU");let A=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.Lb({type:e}),e.\u0275inj=i.Kb({providers:[g],imports:[[r.c,$,q.a,b.h,m.b]]}),e})()}}]);